<!-- #page01 -->
<!DOCTYPE html>
<html lang="en">
<!-- #page01.01: Document Head & Metadata -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aptitude Labs | Mission Control</title>
    
    <!-- #page01.01.01: Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Rajdhani:wght@600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    
    <!-- #page01.01.02: Main Stylesheet -->
    <link rel="stylesheet" href="dashboard.css">

    <!-- #page01.01.03: Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    
    <!-- #page01.01.04: Firebase Configuration -->
    <script src="firebase-config.js"></script>

    <!-- #page01.01.05: Logout Function -->
    <script>
        function logoutUser() {
            console.log("Attempting Logout...");
            // Try Firebase Logout safely
            try {
                if (typeof firebase !== 'undefined' && firebase.auth()) {
                    firebase.auth().signOut();
                }
            } catch (error) {
                console.warn("Firebase logout warning (ignoring to force redirect):", error);
            }
            // FORCE REDIRECT
            window.location.href = 'login.html';
        }
    </script>
</head>
<body>

    <!-- #page01.02: Top Navigation Bar -->
    <nav class="top-nav">
        <!-- #page01.02.01: Brand Logo -->
        <div class="brand">
            <span class="material-icons-round brand-icon">change_history</span>
            APTITUDE LABS
        </div>
        <!-- #page01.02.02: Navigation Links -->
        <div class="nav-links">
            <a href="dashboard.html" class="active">Dashboard</a>
            <a href="mocks.html">Mocks</a> 
            <a href="practice.html">Practice</a>
            <a href="leaderboard.html">Leaderboard</a>
            <a href="analysis.html">Analysis</a>
            <a href="mentor.html">Mentor</a>
            <a href="pricing.html">Pricing</a>
        </div>
        <!-- #page01.02.03: User Actions (Settings, Logout) -->
        <div class="flex align-center gap-2 text-gray-400">
            <span class="material-icons-round" style="cursor:pointer; font-size:24px;">settings</span>
            <span class="material-icons-round" onclick="logoutUser()" style="cursor:pointer; font-size:24px; margin-left:15px; color:#ef4444;">logout</span>
        </div>
    </nav>

    <!-- #page01.03: Main Content Container -->
    <div class="main-container">
        
        <!-- #page01.03.01: Left Column -->
        <div>
            <!-- #page01.03.01.01: Hero Banner -->
            <div class="hero-banner">
                <video autoplay muted loop playsinline class="hero-video">
                    <source src="banner.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <div class="hero-overlay"></div>
                
                <div class="hero-title">The AIR Mock access will be live soon</div>
                <div class="hero-subtitle">Prepare for the ultimate national challenge.</div>
                <button class="hero-btn" onclick="window.location.href='mocks.html'">Mocks</button>
            </div>

            <!-- #page01.03.01.02: Two-Column Grid (Quests & Practice) -->
            <div class="two-col-grid">
                <!-- Daily Quests Card -->
                <div class="card">
                    <div class="card-title">Daily Quests<span class="material-icons-round save-quests-btn" onclick="saveQuests()">save</span></div>
                    <div class="quest-item" id="quest-1" onclick="toggleCheck(this)">
                        <span class="material-icons-round checkbox">check_box</span>
                        <span class="quest-text" contenteditable="true">Daily Quests in Sunday</span>
                    </div>
                    <div class="quest-item" id="quest-2" onclick="toggleCheck(this)">
                        <span class="material-icons-round checkbox">check_box</span>
                        <span class="quest-text" contenteditable="true">Daily Quests in 35 minutes</span>
                    </div>
                    <div class="quest-item" id="quest-3" onclick="toggleCheck(this)">
                        <span class="material-icons-round checkbox-unchecked">check_box_outline_blank</span>
                        <span class="quest-text" contenteditable="true">Daily Quests in Immutes</span>
                    </div>
                </div>

                <!-- Today's Practice Card -->
                <div class="card">
                    <div class="card-title">Today's Practice</div>
                    <div class="practice-item">
                        <div class="doc-icon"><span class="material-icons-round">description</span></div>
                        <div class="practice-content">
                            <div class="practice-title">
                                <span>Free Daily RCs: India's Labor</span>
                                <span class="material-icons-round" style="color:var(--text-secondary); font-size:16px">north_east</span>
                            </div>
                            <div class="progress-bar-bg"><div class="progress-bar-fill" style="width: 60%; background: var(--accent-neon);"></div></div>
                        </div>
                    </div>
                    <div class="practice-item" style="margin-bottom: 0;">
                        <div class="doc-icon" style="background: rgba(245, 158, 11, 0.15); color: #FCD34D; border: 1px solid rgba(245, 158, 11, 0.3);"><span class="material-icons-round">book</span></div>
                        <div class="practice-content">
                            <div class="practice-title">
                                <span>Weekly DI/LR: The Office Roster</span>
                                <span class="material-icons-round" style="color:var(--text-secondary); font-size:16px">north_east</span>
                            </div>
                            <div class="progress-bar-bg"><div class="progress-bar-fill" style="width: 30%; background: #F59E0B;"></div></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- #page01.03.01.03: Two-Column Grid (Quick Links & Announcements) -->
            <div class="two-col-grid" style="margin-bottom: 0;">
                <!-- Quick Links Card -->
                 <div class="card">
                    <div class="card-title">Quick Links</div>
                    <div class="quick-link-btn"><span class="material-icons-round ql-icon">menu_book</span><div class="ql-text">Syllabus</div></div>
                    <div class="quick-link-btn"><span class="material-icons-round ql-icon">assignment</span><div class="ql-text">Exam Pattern</div></div>
                    <div class="quick-link-btn" style="margin-bottom: 0;"><span class="material-icons-round ql-icon">folder_open</span><div class="ql-text">Application Tracker</div></div>
                </div>
                
                <!-- Announcements Card -->
                <div class="card announcement-card">
                    <div class="card-title">
                        <span>Announcements</span>
                        <span class="material-icons-round" style="color:var(--text-secondary);">campaign</span>
                    </div>
                    <div class="announcement-item">
                        <span class="material-icons-round bell-icon" style="color: #EF4444; background: rgba(239, 68, 68, 0.15);">notifications_active</span>
                        <div>
                            <div style="font-weight:600;">Forms Released</div>
                            <span class="notif-meta">IPMAT Indore forms are out now.</span>
                        </div>
                    </div>
                    <div class="announcement-item">
                        <span class="material-icons-round bell-icon" style="background:rgba(56, 189, 248, 0.15); color:var(--accent-neon);">emoji_events</span>
                        <div>
                            <div style="font-weight:600;">Weekend Cup</div>
                            <span class="notif-meta">Top 10 winners get Pro access.</span>
                        </div>
                    </div>
                    <div class="announcement-item">
                        <span class="material-icons-round bell-icon" style="background:rgba(156, 163, 175, 0.15); color:var(--text-secondary);">update</span>
                        <div>
                            <div style="font-weight:600;">System Update</div>
                            <span class="notif-meta">Maintenance at 2 AM tonight.</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- #page01.03.02: Right Column -->
        <div>
            <!-- #page01.03.02.01: League Card -->
            <div class="card league-card" id="league-card-container">
                <span class="material-icons-round info-icon" onclick="openLeagueModal()">info</span>
                <div class="shield-icon-container">
                    <img id="league-img" src="assets/ROOKIE.png" alt="League" class="shield-img">
                </div>
                <div class="league-info">
                    <div class="league-label">CURRENT LEAGUE</div>
                    <div class="league-name" id="league-name">ROOKIE</div>
                    <div style="position: relative; margin-top:5px;">
                        <div class="xp-values" id="xp-text">0 / 1000 XP</div>
                        <div class="xp-progress-bg"><div class="xp-progress-fill" id="xp-bar"></div></div>
                    </div>
                    <div class="username" id="display-name">Loading...</div>
                </div>
            </div>

            <!-- #page01.03.02.02: Stats Grid -->
            <div class="stats-grid">
                <div class="card stat-box">
                    <div class="stat-label">TOTAL XP</div>
                    <div class="stat-value" id="total-xp">0</div>
                </div>
                <div class="card stat-box streak-box">
                    <div class="stat-label" style="color: #FCD34D;"><span id="streak-count">0</span> Day</div>
                    <div class="stat-value">STREAK <span class="fire-icon">ðŸ”¥</span></div>
                </div>
            </div>

            <!-- #page01.03.02.03: Live Leaderboard Card -->
            <div class="card" style="margin-bottom: 24px;">
                <div class="card-title">Live Leaderboard</div>
                
                <div class="podium-container" id="podium-container">
                    <div class="podium-place rank-2">
                        <img src="https://i.pravatar.cc/100?img=5" class="avatar" alt="Rank 2 Avatar">
                        <div class="winner-name" id="rank-2-name">--</div>
                        <div class="rank-bar bar-silver" id="rank-2-score">0</div>
                    </div>
                    <div class="podium-place rank-1">
                        <span class="material-icons-round winner-crown">emoji_events</span>
                        <img src="https://i.pravatar.cc/100?img=3" class="avatar" style="border-color:#FCD34D;" alt="Rank 1 Avatar">
                        <div class="winner-name" style="font-weight:800;" id="rank-1-name">--</div>
                        <div class="rank-bar bar-gold" id="rank-1-score">0</div>
                    </div>
                    <div class="podium-place rank-3">
                        <img src="https://i.pravatar.cc/100?img=8" class="avatar" alt="Rank 3 Avatar">
                        <div class="winner-name" id="rank-3-name">--</div>
                        <div class="rank-bar bar-bronze" id="rank-3-score">0</div>
                    </div>
                </div>

                <div class="user-rank-row">
                    <span id="user-rank-display">You</span>
                    <span id="user-rank-xp">0 XP</span>
                </div>
            </div>

            <!-- #page01.03.02.04: Word of the Day Card -->
            <div class="card vocab-card">
                <div class="vocab-header"><span class="vocab-label">WORD OF THE DAY</span><span class="material-icons-round" style="color:var(--accent-violet); cursor:pointer;">refresh</span></div>
                <div class="vocab-word">Ephemeral</div>
                <div class="vocab-def">Lasting for a very short time.</div>
            </div>
        </div>
    </div>

    <!-- #page01.04: League Progression Modal -->
    <div id="league-modal" class="modal-overlay">
        <div class="modal">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                <h3 style="margin:0; font-weight:800;">League Progression</h3>
                <span class="material-icons-round" style="cursor:pointer;" onclick="closeLeagueModal()">close</span>
            </div>
            <div id="league-list-container">
                </div>
        </div>
    </div>

    <!-- #page01.05: Main Dashboard Script -->
    <script src="dashboard.js"></script>

</body>
</html>
